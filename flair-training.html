
<!DOCTYPE html>
<html>
  <head>
    <meta charset=utf-8>
    <title>Buttons</title>
    <link rel="stylesheet" href="./thebutton.css">
    <link rel="stylesheet" href="./thebutton-extra.css">
    <script src="//code.jquery.com/jquery-2.1.3.min.js"></script>
    <script type="text/javascript" src="https://www.google.com/jsapi"></script>
    <style>
    .flair {
      max-width: 500px;
      height: 48px;
      line-height: 48px;
      border-radius: 48px;
      font-size: 15px !important;
      color: #fff;
      margin: 0 auto;
    }
    </style>
  </head>
  <body>
    <div class="thebutton-wrap active">
      <form class="thebutton-form">
        <div class="thebutton-counter">
          <span class="thebutton-participants">758,854</span> <span class="thebutton-participants-description"> participants</span>
        </div>
        <h1>the button</h1>
        <div class="thebutton-container locked active">
          <button id="thebutton" title="BUTTON PRESS BUTTON PRESS IT BUTTON THE BUTTON PRESS IT PRESS THE BUTTON BUTTON BUTTON PRESS IT THE BUTTON THE BUTTON PRESS BUTTON IT PRESS IT THE BUTTON PRESS IT NOW">[you feel an overwhelming urge to press the button]</button>
        </div>
        <div class="thebutton-pie-container pulse2">
          <div class="thebutton-pie"></div>
        </div>
        <div class="thebutton-container">
          <span id="thebutton-timer">
            <span class="thebutton-numeral" id="thebutton-s-10s">?</span>
            <span class="thebutton-numeral" id="thebutton-s-1s">?</span>
            <span class="thebutton-numeral" id="thebutton-s-100ms">?</span>
            <span class="thebutton-numeral" id="thebutton-s-10ms">?</span>
          </span>
        </div>
      </form>
    </div>
    <div class="text-center">
      <div id="flair" class="flair flair-no-press">
        non presser
      </div>
    </div>
    <hr>
    <div class="text-center">
    <a href="https://twitter.com/flevour" class="twitter-follow-button" data-show-count="false" data-size="large">Follow @flevour</a>
    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
    </div>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-129261-21', 'auto');
      ga('send', 'pageview');

    </script>
    <script src="./thebutton.js"></script>
    <script>
      var seconds_left = 60, interval_id;
      $(function() {
        $('body').on('thebutton:init', function() {
          interval_id = setInterval(function(){
              r.thebutton._websocket.trigger("message:ticking", { seconds_left: seconds_left });
              seconds_left -= 1;
              if (seconds_left < 0) {
                  seconds_left = 60;
              }
          }, 1000)
        });
        $.request = function(request_type, n, e) {
          // r.thebutton._websocket.trigger("message:expired", { seconds_left: seconds_left });
          clearInterval(interval_id);
          $("#flair")
            .text(n.seconds + "s")
            .removeClass('flair-no-press')
            .addClass('flair-press-' + (parseInt(parseInt(n.seconds) / 10) + 1));

        }
      });
    </script>

  </body>
</html>
